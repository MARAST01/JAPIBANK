<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="meta.css">
    <title>Transferencia</title>
</head>
<body>
    <!-- Header principal de navegación -->
    <header class="main-header">

        <div class="header-top">
            <h2 class="logo">JapiBank</h2>
            <button class="menu-button">☰</button>
        </div>
        
        <nav class="navegacion">
            <ul>
            <li><a onclick="history.back()"><i class="fa-solid fa-house"></i> Inicio</a></li>
            <li><a href="#"><i class="fa-solid fa-info-circle"></i> Sobre nosotros</a></li>
            <li><a href="perfil.html"><i class="fa-solid fa-user"></i> Perfil</a></li>
            </ul>
        </nav>
    </header>

    <script>
        const menu_button = document.querySelector('.menu-button')
        const navegacion = document.querySelector('.navegacion')
        menu_button.addEventListener('click', () => {
            console.log(navegacion.style.display)
            if (navegacion.style.display != 'block') {
                navegacion.style.display = ('block')
                menu_button.innerHTML = '✖'
            } else {
                navegacion.style.display = 'none'
                menu_button.innerHTML = '☰'
            }
        })
    </script>

    <!-- Contenedor principal -->
    <main class="main">
        <section class="contenedor-grande">
            <div class="head"><button class="back-button" onclick="history.back()"><i class="fas fa-arrow-left"></i></button><h1 class="title">Tus Metas</h1></div>

            <section class="contenedor-pequeño">
            <div class="content">
              <img src="https://cdn-icons-png.flaticon.com/512/9603/9603023.png" width="80" height="80" alt="Ícono representativo" aling="center">
              <section id="metas">
            </section>

              </section>
              <footer>
              <button class="create-button" onclick="location.href='crear_meta.html'">Crear Meta</button>
              </footer>
        </section>
    </main>

    <script>
        if(localStorage.getItem('meta') == '[]'){
            document.querySelector('.metas').innerHTML = '<p>No tienes metas creadas</p>'

        } else {
            let metas = JSON.parse(localStorage.getItem('meta'))
            let tabla = "<table style='border: 1px solid black; width: 100%; border-collapse: collapse;'>" +
                "<tr>" +
                "<th style='border: 1px solid black; padding: 8px;'>Nombre</th>" +
                "<th style='border: 1px solid black; padding: 8px;'>Fecha</th>" +
                "</tr>";
    
    metas.forEach(meta => {
        tabla += "<tr>" +
                 "<td style='border: 1px solid black; padding: 8px;'>" + meta.meta + "</td>" +
                 "<td style='border: 1px solid black; padding: 8px;'>" + meta.fecha.substring(0, 10) + "</td>" +
                 "</tr>";
    });

       

    tabla += "</table>";
    document.getElementById("metas").innerHTML = tabla;

        }
    </script>
</body>
</html>